<!DOCTYPE html>
<html>
<head>
    <title>Promise All</title>
    <script>
            
        let promiseCall = function(returnData,message) {
           return function(resolve,reject){
               setTimeout(()=>{
               console.log(`The ${message} Promise is Resolved`);
               resolve(returnData);
               }, returnData * 100); 
           }
        };
        
        
        let p1 = new Promise(promiseCall(10, "first"));
        let p2 = new Promise(promiseCall(20, "second"));
        let p3 = new Promise(promiseCall(30, "third"));
        let p4 = new Promise(function(resolve,reject){
            reject("The 4th Promise has reject")
        });
        
        
        
        var total =0;
        Promise.all([p1,p2,p3,p4]).then((result)=>{
            
            for(var i in result){
                total +=result[i]
            }
            
            console.log(`Results: ${result}`);
            console.log(`Results: ${total}`);
        }).catch((error)=>{
            console.log(`Results: ${error}`)
        });
        
    </script>
</head>
<body>
<!--
    <script>
            
        let p1 = new Promise((resolve,reject)=>{
           setTimeout(()=>{
               console.log('The Frist Promise is Resolved');
               resolve(10);
           }, 1000) 
        });
        
        let p2 = new Promise((resolve,reject)=>{
           setTimeout(()=>{
               console.log('The Second Promise is Resolved');
               resolve(20);
           }, 2000) 
        });
        
        let p3 = new Promise((resolve,reject)=>{
           setTimeout(()=>{
               console.log('The Third Promise is Resolved');
               resolve(30);
           }, 3000) 
        });
        
        var total =0;
        Promise.all([p1,p2,p3]).then((result)=>{
            
            for(var i in result){
                total +=result[i]
            }
            
            console.log(`Results: ${result}`);
            console.log(`Results: ${total}`);
        }).catch((error)=>{
            console.log(`Results: ${error}`)
        });
        
    </script>
-->
</body>
</html>